# План модернизации Fintrack-v2

Ниже собраны 10 верхнеуровневых задач для приведения проекта к демонстрационному состоянию. Для каждой задачи перечислены цель, ключевые подзадачи, вовлеченные части проекта и критерии готовности.

## 1. Аудит проекта и выявление проблем
- **Цель:** зафиксировать текущее состояние фронтенда, бэкенда и БД.
- **Подзадачи:** обзор структуры, поиск дублей и техдолга, оценка семантики/доступности, текстовый архитектурный конспект.
- **Затронуто:** весь репозиторий (frontend, backend, schema/seed).
- **Готовность:** есть краткое архитектурное описание и список проблем по фронту, бэку, БД.

## 2. Унификация и исправление REST API
- **Цель:** сделать API предсказуемым и полнофункциональным.
- **Подзадачи:** ревизия маршрутов (accounts, transactions, categories, budgets, goals, planned/recurring, rules, analytics, auth), корректные HTTP-коды, валидация входных данных, закрытие пропусков CRUD, список маршрутов/примеров.
- **Затронуто:** `backend/routes/`, `backend/controllers/`, `backend/validators/`, README/docs по API.
- **Готовность:** REST-API документировано и покрывает потребности фронтенда.

## 3. Рефакторинг базы данных, миграции и seed-данные
- **Цель:** обеспечить быстрое развертывание БД с чистого окружения.
- **Подзадачи:** проверка связей/типов/индексов, умеренная нормализация, миграции или SQL-скрипты, демо seed.
- **Затронуто:** `backend/db/`, `backend/migrations/`, `backend/seed/`, `docs/schema`.
- **Готовность:** схема и seed накатываются 1–2 командами и готовят данные для демо.

## 4. Рефакторинг сервисов и middleware на бэкенде
- **Цель:** разделить ответственность и унифицировать обработку ошибок.
- **Подзадачи:** порядок в `data/auth/currency` сервисах, устранение дублей, единый error handler и логирование, проверка auth/refresh middleware.
- **Затронуто:** `backend/services/`, `backend/middleware/`, `backend/app.js`/`server.js`.
- **Готовность:** сервисы читаемы, переиспользуемы, ошибки обрабатываются централизованно.

## 5. Функциональный рефакторинг фронтенда
- **Цель:** упростить поддержку фронтовой логики.
- **Подзадачи:** ревизия `app.js`, `accounts.js`, `transactions.js`, `budgets.js`, `categories.js` и др.; выделение утилит; переход на ES-модули; ввод простых компонентов для таблиц/форм/карточек.
- **Затронуто:** `frontend/src/js/` (или новая структура), общие утилиты.
- **Готовность:** меньше дублирования, ясная модульная структура, сохранена интеграция с API.

## 6. Полная модернизация UI/UX и адаптива
- **Цель:** современный, цельный интерфейс с хорошим mobile experience.
- **Подзадачи:** семантическая верстка (`header/nav/main/section/footer`), новый sidebar/nav с мобильным поведением, сетка/типографика/состояния, единый визуальный стиль (CSS-переменные или utility-first), оптимизация под мобильные.
- **Затронуто:** `frontend/src/index.html` и страницы, `frontend/src/styles/` или слой дизайн-токенов.
- **Готовность:** интерфейс выглядит современно и удобно на десктопе и мобиле.

## 7. Переоформление ключевых страниц
- **Цель:** унифицировать и обогатить UX основных экранов.
- **Подзадачи:** переработка `dashboard`, `accounts`, `transactions`, `budgets`, `categories`, `goals`, `auth`; состояния “нет данных/загрузка/ошибка”; метрики/графики/статусы.
- **Затронуто:** соответствующие HTML/JS/CSS страниц или компоненты.
- **Готовность:** все страницы в едином стиле с понятными состояниями.

## 8. Подготовка к продакшену и деплою
- **Цель:** воспроизводимый запуск и сборка.
- **Подзадачи:** `.env` и `.env.example`, `dotenv`, npm-скрипты `dev/build/start`, описание деплоя (Render/Heroku/VPS), оптимизация статических ресурсов, при необходимости сборщик (Vite/Webpack/Rollup).
- **Затронуто:** `package.json`, конфиги сборщика, env-файлы, README.
- **Готовность:** проект запускается на чистом окружении по README без ручных правок.

## 9. PWA и производительность
- **Цель:** улучшить показатели Lighthouse и офлайн-готовность.
- **Подзадачи:** `manifest.json`, service worker, базовое кэширование, иконки; оптимизация критического CSS, ленивые тяжелые модули, снижение блокирующих ресурсов.
- **Затронуто:** `public/manifest.json`, `public/sw.js`, фронтовая сборка/ассеты.
- **Готовность:** приемлемые метрики Performance/Best Practices/PWA.

## 10. Документация и подготовка к защите
- **Цель:** описать архитектуру, запуск и сценарий демонстрации.
- **Подзадачи:** обновить README (описание, стек, запуск, деплой, архитектура), описание REST API, схема БД, раздел соответствия ТЗ; конспект для демо (сценарии и ключевые решения).
- **Затронуто:** `README.md`, `docs/`, скрипты для демо при необходимости.
- **Готовность:** по документации понятно устройство проекта, запуск и сценарий демонстрации.
